use ark_ff::FftField;
use ark_ff::Field;
use ark_ff::One;
use ark_ff::MontFp as Fp;
use ark_poly::DenseUVPolynomial;
use ark_ff::PrimeField;
use ark_poly::univariate::DensePolynomial;
use ark_poly::Polynomial;
use ministark_gpu::fields::p3618502788666131213697322783095070105623107215331596699973092056135872020481::ark::Fp;
use num_bigint::BigUint;
use std::io::Cursor;
use num_traits::Zero;

#[macro_use]
extern crate serde_json;

fn main() {
    // const PIE: &[u8] = include_bytes!("../example/as-pie.zip");

    // println!("YO: {:?}", json!(3218973821738972187381793));

    // let bytes = Cursor::new(&PIE);
    // let _pie = binary::pie::Pie::from_reader(bytes);

    // vanishing_poly_experiments();

    // let poly =
    // DensePolynomial::from_coefficients_slice(&LEFT_X_COEFFICIENTS);
    // let res: BigUint = poly.evaluate(&Fp::one()).into_bigint().into();
    // println!("p(1) = {:#01x}", res);

    // let n = 256;
    // let omega = Fp::get_root_of_unity(n).unwrap();
    // for i in 0..n + 10 {
    //     let res: BigUint =
    // poly.evaluate(&omega.pow([i])).into_bigint().into();     println!("
    // p(Ï‰^{i}) = {:#01x}", res) }

    // println!(
    //     "Hash: {}",
    //     layouts::layout6::pedersen::hash(Fp::ZERO, Fp::ZERO)
    // );
}

fn vanishing_poly_experiments() {
    use ministark_gpu::fields::p18446744069414584321::ark::Fp;
    let n = 2048;
    let omega = Fp::get_root_of_unity(n).unwrap();
    for i in 0..n {
        let x = omega.pow([i]);
        if (x - omega.pow([512 * (n / 512 - 1)])).is_zero() {
            println!("zero at {i}");
        }
        // println!(
        //     "{i}: x^256: {}, x: {}",
        //     x.pow([n / 512]) - omega.pow([n / 2]),
        //     x
        // );
    }
    println!("YO");
    for i in 0..n {
        let x = omega.pow([i]);
        if (x.pow([n / 512]) - Fp::ONE).is_zero() {
            println!("zero at {i}");
        }
        // println!(
        //     "{i}: x^256: {}, x: {}",
        //     x.pow([n / 512]) - omega.pow([n / 2]),
        //     x
        // );
    }
}

// pub(crate) const LEFT_X_COEFFICIENTS: [Fp; 256] = [
//     Fp!("295609841981929690295018124501538391417546947044513052552813046424528607287"),
//     Fp!("418757377473639508897328866811852937245823514186645084635588176439740909625"),
//     Fp!("2615709996448387683813231674181503978232415261227796179115520580307665773718"),
//     Fp!("2180875985722614856839607655387050932223185396054890510820854905135938181357"),
//     Fp!("1012819900377264677825373283109468313811871408480074957835787546203513451867"),
//     Fp!("72867903343364094682874125192366375104264229654502293177129717411275424115"),
//     Fp!("627548668209212356269703562651542801604098158697668045392977199723165884092"),
//     Fp!("3300452825046835267088524516211098182560309520680028704522354887103520005676"),
//     Fp!("199886433766105457216374533257673743252312214401425437987318164661498133952"),
//     Fp!("3519959907740563882743710181811841224963179534794190006439768744646124333834"),
//     Fp!("1714850241806256716487390996709312027747997294377766213796540572391824568630"),
//     Fp!("659110955654610939175290205201930734981753828944691667549710783725914654585"),
//     Fp!("231649980541503234207136205341253751098157551229403403284375828542523653223"),
//     Fp!("1278032259465791206519242507061102525870306024409218635286497197745985404647"),
//     Fp!("2156841210008254421345720031081754337922530675842537187099409356068691049959"),
//     Fp!("1364520922286158613843183586781034232996155598497575742521033981610712850457"),
//     Fp!("2872874182439116963028233529589327431871094568765434916065342381255588642626"),
//     Fp!("3302823913586941700890142355676127677606502214600947723872335903524347144652"),
//     Fp!("1683996387000169804847959288676372849417090271396850623734333043338138211384"),
//     Fp!("1110097830049015335252407991268372438144675483507589511097395665526338471419"),
//     Fp!("1727176249309976700022005984199521024164181566313542359749046128745831216807"),
//     Fp!("3500038674807632155839340353487824035116697773825716790481476242015897794157"),
//     Fp!("879753211074738189979328395468313556683091498524370249864537692075549893208"),
//     Fp!("1075257356196352527291451448460565882379414539485455503485981344533249404672"),
//     Fp!("1894031297095558828305544567886513806491601475494748141637583701866600998780"),
//     Fp!("1396705837563333257733872400119868675154121365794311566215249837689692551225"),
//     Fp!("1471058527745859755504044548280470668422620806213234422811826799730322076263"),
//     Fp!("376109472787761927643109668229369011299060047819731971120549016848773876234"),
//     Fp!("2055885865011946440544076914364184789783490295206298373458240905034739655275"),
//     Fp!("1563872344063344644725254519061925845688181564182601624224264084142986687619"),
//     Fp!("3415955827052761433327684607347720505424500307118387630681755064340892604250"),
//     Fp!("1609123031833226962357637956363245404234740974522376923317104259936025659274"),
//     Fp!("322025295916405611593587607407262818869229663754513071820075409430051125571"),
//     Fp!("1682973928094101899138071418076042000112907815341822611779533413790918176539"),
//     Fp!("756938736465341416391472617087562797792660653365842200278225594883944197507"),
//     Fp!("1481775450796210877001238535523913971890776165626309837198033205402092617186"),
//     Fp!("3266933521768934943996294865314132674806591983694137714092709472003182883679"),
//     Fp!("2353083742518530989073935538395687784877541806161886602935803873379245372677"),
//     Fp!("3136820711538712277239986507194954093370153802906874990049742148757449179931"),
//     Fp!("3314155230027050235904296909001390098153736839143737308903501551775154745273"),
//     Fp!("296195366280165918908139042821554294033547894095633527137504679251719206266"),
//     Fp!("770738401671522873673535728186011111692624391482032896841804458299381495618"),
//     Fp!("1762473807079877450996433362744806806395178532253369090088428885034630678240"),
//     Fp!("2879391487844429117505020876274063539474579876506155079127099421057488982353"),
//     Fp!("2865663583125839455405183601233759771145328709862720084057149318875765778542"),
//     Fp!("196613079576844352183403590743871807217409973733218010668430888716521949104"),
//     Fp!("2522422131148895290283084754287133643750271887944654807449451138131666783894"),
//     Fp!("845212290877856498892696722372970159045943068899316865707458549132762858646"),
//     Fp!("1176967920055936422113935737849368609248912234857432385796863721590038764445"),
//     Fp!("1934298956532378366425425845769568682976394209050213105761340787753150592006"),
//     Fp!("3382819832485222876461035956864453477592477086209567316510769096075078965661"),
//     Fp!("3313532866079806846612195287911993830416994675137216600949727661124025704816"),
//     Fp!("640044020544782971775885528277821183345143703217019468973176619432809320682"),
//     Fp!("2657676141400902501884314031040514681442118032743074188053648228555288148556"),
//     Fp!("3320748545860848919416866330185944661451502343364203319368141514784712691061"),
//     Fp!("1454154371506600716188533002637955444072423107353347538837481522332741939905"),
//     Fp!("1572033562598355952107835068875915647547766796950702204944204784528837905495"),
//     Fp!("716457171915001763325371738896367862646618667931638389710040015509914835967"),
//     Fp!("800610771979470369751665669306221221417004145642729675636423240621899504040"),
//     Fp!("2093823560161844048562389538537724032896768438897288984161296370425842773016"),
//     Fp!("2224787546422038377953521774132803459064958362842367018738283536032873743971"),
//     Fp!("36475878116704261732935080366599709145860934248435434056561125535930830059"),
//     Fp!("2224275444023265660956604489606514350284640553729650800469229738810047156254"),
//     Fp!("1754195208260945644708926858707308020500671635403828153209883532210324208754"),
//     Fp!("1870084696060727636199559088763742871748856305916473443788309792387541077944"),
//     Fp!("2058373860096879850511882381064833949702643710811164347466241645592073596865"),
//     Fp!("1604806289452551516684598906598645724509631448555210766833924294906351388202"),
//     Fp!("3493995028149357630979964865774881803628359354280807506711051573472301225598"),
//     Fp!("1160553450280203954747841364400539268402642551930867241078159306867706742814"),
//     Fp!("627025580373061846905041362468035768846499545201952054917929382734581386910"),
//     Fp!("817283067862056725579158713412483789254164592474450816212485955580503429961"),
//     Fp!("3376586863326883847345250699530458287554289909074286432611416672625526108420"),
//     Fp!("377158125259761153331071525858427556867187779087777264352449813735765611280"),
//     Fp!("3169940271637374706588011859127893064006668749256116143602957277957458065244"),
//     Fp!("1234514215290277277987207380753448222834398119914593418079943847167627041151"),
//     Fp!("2010216732155054457607894189717812091450840204602989134123480809256580772730"),
//     Fp!("1944517928494294685475758567628897801723423596286381031782175062826418935411"),
//     Fp!("3202285285616452921762975557241593757073695648631944219648557479742520282080"),
//     Fp!("3278309753984615463284212969286672071826485974641304461833272821052221403867"),
//     Fp!("2312862439241615253167234574200591504012700983569486551578319610894589291693"),
//     Fp!("2053466473300157708062220786382559319268886066457140976003365893919805140076"),
//     Fp!("1104690171123856480766096670557188080049946392500343416363770554929549202346"),
//     Fp!("2510733320369509085904172463264769455880187640023472237695638797147737016936"),
//     Fp!("1416908889531035098346299538337130552394753876873919838724627159176216583579"),
//     Fp!("243056297685446771819832382869116545634704464791792928314462937234703836789"),
//     Fp!("2701034172430814601639531093086960342532979353358950146702685019890564115452"),
//     Fp!("1778907077977415703495057711227658501195550055880475241184810432905337638079"),
//     Fp!("2599663835038652252433693869790790020488384554586279475866398086922546313768"),
//     Fp!("25477692828267970905719371087823213909254282000854976252764815719888582160"),
//     Fp!("532635582314746736178869695773317310041812163930904115022696784399075430070"),
//     Fp!("3601433821600218774855403876898024044786114566738621203136181851826585283825"),
//     Fp!("1743511642594358100636746984793551842665260768363643610493194645485071423777"),
//     Fp!("1390842326236112152840299989713476339458241599699644193607870775625903299785"),
//     Fp!("2461270139940880736486263796986946933404281965756178196606861957397652374302"),
//     Fp!("1281380720664435579585764117600170433051494438274884260510097341302552349792"),
//     Fp!("2750868752165075462162370786779766929323507862137125411787550388097143560611"),
//     Fp!("2150064790468678617893118810914405587533197883770089050317538566572625415572"),
//     Fp!("2645194583531535398854230779295643078366945445754288224689426983083837470059"),
//     Fp!("2616801878156829278456016273656065505025604150839581188828232507375262792956"),
//     Fp!("1581199071288285315097518909462017185867389705779884836955256197993027927974"),
//     Fp!("1770621100598465383351824173514369485179402979417235830344549789105636130120"),
//     Fp!("882357772569604583709168928339267386963594023090484175406218691063759470982"),
//     Fp!("2347858902588234752250383716962066226959773463208507340402517963621869484701"),
//     Fp!("3120779619041685195161035536862844604569685948746866451415254529174046921436"),
//     Fp!("3385883011870729109204386924545046200706922686867755870819666495313579663142"),
//     Fp!("532335836102241862033469411230711910692819760514564122492338273331563064401"),
//     Fp!("941693220830790752332030750920153655074872981503636308717045954310993545783"),
//     Fp!("482761065978717817119456364463331638912316729369054578726276517010746099066"),
//     Fp!("312941061954266621009708032863597490465986945772304449126707965776827169331"),
//     Fp!("1642293823030836169006977987074905391441323872759129893600628821016664176191"),
//     Fp!("1611886485223156056423895639356141692936636920005760783692162885266145732965"),
//     Fp!("3248108169145422952674873566774921375052109181234475592792975439590888222618"),
//     Fp!("1161738636969714565349504652550235344206209137511386193035398566778569526445"),
//     Fp!("2931999708441642879355820638884742629825887064701174512655605926250257710050"),
//     Fp!("2690668817493067191776251320273180098309810744153572756315359890272210500029"),
//     Fp!("681869855343095627499979854046632309216900583062365028033512313223465550181"),
//     Fp!("668289980095456923340566290188013873477768116208186597291307731938840626605"),
//     Fp!("913337171362226960330025751433468191366138951810002364356830208044247362356"),
//     Fp!("2627935558037332328701113241848198232472969676407852824964848557498047451607"),
//     Fp!("1311531720657684445935565580098689911495835579718423000564080217203338642105"),
//     Fp!("2641310846894395119860755357946156324410188331865914247653332707594779831693"),
//     Fp!("1255891283894039985285856821394649015668436834837776957622789849763327936311"),
//     Fp!("3301952697732297084600336636216047826154722614247757862873221303326970945696"),
//     Fp!("518592045596761625054897401548815545098490571236637583574162280905097654062"),
//     Fp!("2668773098002788412101473386331992908564980470192163098942530881247763149155"),
//     Fp!("1702329607738751391951791423955122661298497058325289740750229437930811584891"),
//     Fp!("2048261814257530047843090663615427176258558267641331992770195665702698361643"),
//     Fp!("2936316329980056294592512740354121984224759249498167756058624608164920557028"),
//     Fp!("218921049954717983344958248285916975836365025451982298154183182637807982925"),
//     Fp!("2288038778607501834753819759793212754552313942416520812894574836417358774129"),
//     Fp!("2796826737445457053289090522758430168961873865044510343582697237355492434320"),
//     Fp!("102511960561220811023139195552965112403799500792840848157621133363379872061"),
//     Fp!("3275403344221067984150929372125057515549168884776351044497344463119835192261"),
//     Fp!("3392542390273233033552774184052730128032409959038128901639132553840866697045"),
//     Fp!("644769454745143147887889558081545390317680948062600283576169249661157461515"),
//     Fp!("2854837859513576855145425561044593755460591591455762921792504284093914062841"),
//     Fp!("3424193332127713240850690419947045136401175136347432520427088763489487686488"),
//     Fp!("2225170594600585790986916606968378654683687543781966616740287870792945160710"),
//     Fp!("2841901924831519713482215691155539209195666729572724462953929409097106564315"),
//     Fp!("3584145938965164526445526955681726518457414236752721150628348830214405466005"),
//     Fp!("1142458615502648800305472459431547729216176707468464871213817039189185443032"),
//     Fp!("677942246958401522761394908880973844042125703604564344347627095186921871907"),
//     Fp!("1918478921698242709312075279469117396791191823127970497423428004070240106431"),
//     Fp!("686431727471395442804138272971848420291707987223819126490281944679018552218"),
//     Fp!("99528733688000276611847926282573527265149049700224160599160172732200926495"),
//     Fp!("1340617586384601796298819591700858882196481806962008733533697504609211089495"),
//     Fp!("600843975640643588364360451799370186667233273914339266625937186938711240172"),
//     Fp!("1280912481157887191483760208071187135013069898318195245306716105784382094732"),
//     Fp!("153761631543832874210134789597848895075605433219362917497180977225305375637"),
//     Fp!("3276784210956559437921921117306775985066198697868573532362500357737216240328"),
//     Fp!("1581957819462207741528005896724207154404138885585007822141035561362300978772"),
//     Fp!("1804926729942914798656437850167570856646971191421055287037357552745748216243"),
//     Fp!("1914089212530979800650349848857086093345687467390623778177433757159437503384"),
//     Fp!("974203464381868339134572881369732588553682273754362107918170851698382636911"),
//     Fp!("3543372072555885948273111204661114843112313521940514988033392158077421899830"),
//     Fp!("196647531740721203988793474368767740949505205474227583276937133647140939725"),
//     Fp!("2878691783201562375327069598430834492555150535172623634020442597440707634727"),
//     Fp!("2091181388539833911323534475074485632102280748983592714766826378376298094097"),
//     Fp!("558996095972092037204609008513476464254281152710821812045098987910531648952"),
//     Fp!("977445042672946133842132428595518781984667860506284789869357570361683566881"),
//     Fp!("329843477720130665096546919800858228018508915701341993316313784995003162011"),
//     Fp!("931652040825478530429503581925326516670078604650789096212305979910107935570"),
//     Fp!("3160455167520921113066377587428182296092261332267228099051000343818573324695"),
//     Fp!("3433122606274729645187117002928185232405581351395202073865260208043219465600"),
//     Fp!("3413571670839444606910372896389957600016316038828449282248137932773875028666"),
//     Fp!("2686070865078818123710377371319771559913446046738162503203628585074360822783"),
//     Fp!("148677084490084866787452576198358526842117412300486759072169725698506796718"),
//     Fp!("23016505730958690198159972448982443134501717048125000985098455300573050074"),
//     Fp!("2801564485923983670827121703008189148710507518778404252389207949722120760063"),
//     Fp!("1343630767311087964644959791439401897086296729747152418090892991759018891755"),
//     Fp!("772295967596375624346842413621300747031132274197320728847098573693899701276"),
//     Fp!("3483847612021521293230442238896505897694203525621594214153967837630554858365"),
//     Fp!("3211725688190640861771994335454282762289620258995359671421471265075527993407"),
//     Fp!("1406228475554338150788934118514052368687007179588895576975557963562394737637"),
//     Fp!("2645456484550023050827888841320469148848766753700288481739877391925109034189"),
//     Fp!("1085828148685275539381208408849400067021007798039715098967288961036978204008"),
//     Fp!("2933819649951403916136307059812204806002223871386909675298527041461571955156"),
//     Fp!("1983337101531156292201648190508774923053392826057591061245162792212763198372"),
//     Fp!("1092755927322704939810106218315980160419155935202505304044849279140743701038"),
//     Fp!("2646316487762864689767882644285865603102804924403258336320880909056208588239"),
//     Fp!("1248654475487813759831853396002861291216784813089952491370398941054705033219"),
//     Fp!("2592582300946941986757887664431127996152979135709918367302640496201371635120"),
//     Fp!("577033542151291147542054141346632671054620397554636385045036281810273749179"),
//     Fp!("1831506195118545347145557320551437382082565957984119268807418671058233967549"),
//     Fp!("1962930507630999804205197199486222507317312407906938193038970754205238056940"),
//     Fp!("1137985504089175639089202367822672489987337194792584417890287214158129648495"),
//     Fp!("3467191968507562714285672142718468177805382762204319915526092903451830600931"),
//     Fp!("1400698051816019147485096551962867023633175164654597736591406921515403667927"),
//     Fp!("2188394835395807171014580192348534238549950104149833368151427855874222213009"),
//     Fp!("1696179148157708188432131347563687157571085850202267221988706631131002968282"),
//     Fp!("764614952979225048478502140099667818550769347985984047933290700402818025812"),
//     Fp!("3004108695548239397256702469639687269116069340548957002901278056976563205907"),
//     Fp!("2733692960555126031717328357965928888213375035096895749945714754233169021906"),
//     Fp!("3092453366666262980315226812733956918013305954908728771633294601768175456715"),
//     Fp!("1519172833169480854282131921680389008848821121237094336976630991091603487092"),
//     Fp!("3215031168329175716038984533036606433730923011187770949884824867537100461415"),
//     Fp!("2230683107595742921440380034060386554069341625451153580582164346371147922597"),
//     Fp!("668546898915533922879146416137467774746137185863230758707435413522294685966"),
//     Fp!("2972010284904677297208786706494417028124782111976682032359293449212048698696"),
//     Fp!("1167212966798716957863760163470391055976256356369713972725560573174807933783"),
//     Fp!("2904460629813209063691740504196999542194480896849704332047589232033842762518"),
//     Fp!("2275365678373277525080495301049542700386019772593045409623106568334522082499"),
//     Fp!("716173932130219227949637279921830234244239374198559436284528951613076050060"),
//     Fp!("894921567628903908468682766288285630088193422274008448798871543708469570845"),
//     Fp!("2323525778001814442481361494171776998057846394259728503529204742202035110389"),
//     Fp!("985880343392346565187725679476994836371097343806728375819361544407703745389"),
//     Fp!("1758889372641073421098027757716245448967954912581345924031024630692807117519"),
//     Fp!("1588655688154826724719126380335739414232055294427814757748271716931437336264"),
//     Fp!("1396317309592049523571921090831248789717955834932448680848322881139981841452"),
//     Fp!("2701573959983151347644406448357343373816541886086037811968486614459518043481"),
//     Fp!("1297803659518218545501283494635561040848840631711604500237741196169526629835"),
//     Fp!("1106115396939624632592918867831155593106834272803501247340113061029732288011"),
//     Fp!("2092832913676876142607026477527059975687493015346742795474050960007937687048"),
//     Fp!("1587637484430083376554001747152726184699208959867469328942889919749927774722"),
//     Fp!("2019380632273537390056679504843836406296483389101156591674946410622831678505"),
//     Fp!("3428422216749765447517890176416403770004145916957501235895835103459383418117"),
//     Fp!("3025264121443929087371746994241334789522136407701890936507445804342742398491"),
//     Fp!("1807905658129260811805673282855217533356544770265879595355810202234932727301"),
//     Fp!("891705309188401316012731381665683075360657457291079052070810348170953393792"),
//     Fp!("1884026983413551913714800825874176750934015149294559551404214522812441969429"),
//     Fp!("1389166167243751433049260579300562007693907161447210034168430792022572520246"),
//     Fp!("1592923755480831867774382179169886857117168788732647602816679138736054200364"),
//     Fp!("3027151132617769222710466559287210477435750442351603286531380196044095082045"),
//     Fp!("3341525623560525254630762584488117940079235767872578086122828184520789843691"),
//     Fp!("1714816561725268652794075476288531752819277079144073052689999110956439188082"),
//     Fp!("1309331751219015313969966247381623464765949626374742785178217556180443928172"),
//     Fp!("555982986705272200038728803715200011645513624341702643682940295720887149667"),
//     Fp!("2726000814678119840999528909708656705543013104121562430089147746492723171246"),
//     Fp!("877785922567458047045257182923632980538850748594647166629703400043599497677"),
//     Fp!("1315016912858443691520741585633967272295953228248038671658336436294229880256"),
//     Fp!("2134945419312476265263050554469166660161269324855763501643954634419643920311"),
//     Fp!("3042110393079737086946514543542939572892160090886466758601316530454411755602"),
//     Fp!("681707839471329845284887085558548756061477567941628809583240554653492956750"),
//     Fp!("875609807285146531173015915304853230632075704435886125797948712659208973180"),
//     Fp!("1854144378270094259395765974663808584833864480192576273428236949930206755777"),
//     Fp!("752628591321912388268625592565562920051969531435857455640642828607515276950"),
//     Fp!("2595829177275900568680676428857124491194109826713885665093295319645928862723"),
//     Fp!("773506702906303311888302237943859862750975247589083623340693945475213860021"),
//     Fp!("2064601903400681190744697444518372553799561252425812901939998563171144568423"),
//     Fp!("2725995942375112449854569261503110852424875966704269767059731968721171706267"),
//     Fp!("2151635313041937977334783158589725800785057005488042406209881167607947825215"),
//     Fp!("1650179653484090340322324521304716295350719901301317710070777887747283676106"),
//     Fp!("3495348782616802273738088962948093173237153526463912152825027919741359301173"),
//     Fp!("2011770117834166498695782443966075217025914323107600160406531940640078511343"),
//     Fp!("3191578178122411351829837124189908272763397936532402578662561975474531102314"),
//     Fp!("1495103262450493607983287631865694913220509818379604170576580042478623090166"),
//     Fp!("1950411559694214809281945289431523748608018287342236543915710360439934658860"),
//     Fp!("3005811667843388695111727410047347706842514962793880361436377525404906181418"),
//     Fp!("2312028503228647563361363695877345445307889745902967429145796116778444029356"),
//     Fp!("1379981496363243248155620775094608677700055703341289497645971791746408464075"),
//     Fp!("1997456509620752697572001342827372518281485538946890794082756381951669192378"),
//     Fp!("1882791048568026671636429867663649665799726767620239801605297542906538517952"),
//     Fp!("3084767775077648335040550197398397714827426030518162930449991965988403026087"),
//     Fp!("2961531818816316791503721867947872905114127301886912641524623749414246681407"),
//     Fp!("1344966833401693234201781657046031685114097196956699517848704530313613582752"),
//     Fp!("1566117373062318407232411836676245259941452046626359993577350137345601761413"),
// ];
